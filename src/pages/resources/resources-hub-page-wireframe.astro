---
import Layout from "../../layouts/Layout.astro";
import InnerHero from "../../components/InnerHero.astro";
import Cta from "../../components/Cta.astro";
import { Image } from "astro:assets";

// Placeholder image for eBook cover mockup
import ebookMockup from "../../assets/images/all-in-one.jpg";

// Load page content from MD frontmatter
import { frontmatter } from "../content/resources/resources-hub-page-wireframe.md";
---

<Layout title={frontmatter.title}>
  <InnerHero
    title={frontmatter.hero.title}
    description={frontmatter.hero.description}
  />

  <main class="resources-page">
    <!-- Featured Guide Section -->
    <section class="featured-guide bg-gray-50 py-16">
      <div class="container mx-auto px-4 md:px-8 max-w-6xl">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <div>
            <h3 class="text-sm font-semibold tracking-wider uppercase text-accent/85">
              {frontmatter.featuredGuide.title}
            </h3>
            <h2 class="text-3xl font-bold mt-2 mb-4">
              {frontmatter.featuredGuide.guideName}
            </h2>
            <p class="text-gray-600 mb-6">
              {frontmatter.featuredGuide.description}
            </p>
            <a
              href={frontmatter.featuredGuide.buttonLink}
              class="btn btn-primary"
            >
              {frontmatter.featuredGuide.buttonText}
            </a>
          </div>
          <div class="flex justify-center md:justify-end">
            <Image
              src={ebookMockup}
              alt="Ultimate Guide to Local SEO eBook Cover"
              class="max-w-xs rounded-lg shadow-lg"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Latest Articles Section -->
    <section class="latest-articles py-16">
      <div class="container mx-auto px-4 md:px-8 max-w-6xl">
        <h2 class="text-3xl font-bold mb-8 text-center">
          {frontmatter.articles.sectionTitle}
        </h2>
        
        <!-- Article Categories -->
        <div class="flex flex-wrap justify-center gap-4 mb-12">
          {frontmatter.articles.categories.map((category) => (
            <button class={`px-4 py-2 rounded-full text-sm font-medium ${category === 'All' ? 'bg-accent text-white' : 'bg-gray-100 hover:bg-gray-200'}`}>
              {category}
            </button>
          ))}
        </div>

        <!-- Articles Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          {frontmatter.articles.posts.map((post) => (
            <div class="article-card bg-white rounded-lg shadow-md overflow-hidden">
              <div class="p-6">
                <span class="text-xs font-semibold text-accent uppercase tracking-wider">
                  {post.category}
                </span>
                <h3 class="text-xl font-bold mt-2 mb-3">
                  <a href={post.link} class="hover:text-accent">
                    {post.title}
                  </a>
                </h3>
                <p class="text-gray-600 mb-4">
                  {post.description}
                </p>
                <a href={post.link} class="text-accent font-medium hover:text-accent/85 inline-flex items-center">
                  Read More
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <Cta
      title={frontmatter.cta.title}
      highlightedText={frontmatter.cta.highlightedText}
      description={frontmatter.cta.description}
      buttonText={frontmatter.cta.buttonText}
      buttonLink={frontmatter.cta.buttonLink}
    />
  </main>
</Layout>

<style>
  @reference "../../styles/global.css";

  .article-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .article-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .btn {
    display: inline-block;
    padding: 14px 28px;
    border-radius: 5px;
    font-weight: 600;
    text-align: center;
    text-decoration: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .btn-primary {
    background-color: var(--color-primary);
    color: var(--color-accent);
    border: 1px solid var(--color-primary);
    border-radius: 50px;
    font-size: 20px;
  }

  .btn-primary:hover {
    background-color: transparent;
    color: var(--color-primary);
  }
</style>
